<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Affichage des utilisateurs par intérêts</title>
</head>
<body>

<h1>Utilisateurs partageant les mêmes intérêts</h1>
<ul id="usersList"></ul>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Affichage des utilisateurs par intérêts</title>
</head>
<body>

<h1>Utilisateurs partageant les mêmes intérêts</h1>
<ul id="usersList"></ul>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Charger le fichier JSON
  fetch('users.json')
    .then(response => response.json())
    .then(data => {
      const users = data.users;

      // Objet pour stocker les utilisateurs par sous catégories d'intérêts
      const usersBySubcategory = {};

      // Parcourir chaque utilisateur
      users.forEach(user => {
        const userName = user.name;

        // Parcourir chaque sous catégories d'intérêts de l'utilisateur
        for (const category in user.interets) {
          user.interets[category].forEach(subcategory => {
            if (!usersBySubcategory[subcategory]) {
              usersBySubcategory[subcategory] = [userName];
            } else {
              // Sinon, ajouter cet utilisateur à la liste des utilisateurs partageant ce groupe de passions
              usersBySubcategory[subcategory].push(userName);
            }
          });
        }
        
      });

      // Afficher les utilisateurs par sous groupes de passions
      const userListElement = document.getElementById("usersList");
      for (const subcategory in usersBySubcategory) {
        const usersWithSubcategory = usersBySubcategory[subcategory];
        const userListItems = usersWithSubcategory.map(userName => `<li>${userName}</li>`).join("");
        userListElement.innerHTML += `<li>${subcategory}: ${userListItems}</li>`;
      }
    })
    .catch(error => console.error('Erreur lors du chargement du fichier JSON :', error));
});
</script>

</body>
</html>
